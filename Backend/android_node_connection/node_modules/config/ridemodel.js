var mongoose = require('mongoose');

var Schema = mongoose.Schema;
var gcm = require('node-gcm');
 
// var gcm = require('../lib/node-gcm');

var message = new gcm.Message();

message.addData('message', 'Shashank has requested to travel with you on - 23-sep-2015 , from Hall-3 to CNB . Tab to Call and confirm ');
// message.addNotification('title', 'Hello');
// message.addNotification('icon', 'ic_launcher');
// message.addNotification('body', 'World');
// {
//     "to": "/topics/foo-bar",
//     "data": {
//       "message": "This is a GCM Topic Message!",
//      }
//   }

//Replace your mobile device registration Id here
var regIds = ['APA91bHSJalTgL0-8hH8om800lgXYiErPN09lrNFN8e9HeADsPC8Rp2GsLTXTMSsFO9Gasq8gcvNJcxN_koquPStWBKWPbzLc7pdVKKp-uBlXeCXChuU-Henejfp_eo10vVNeTLNyUq1yoaD-TTPgO7m-az0TRW_pw'];
//Replace your developer API key with GCM enabled here
var sender = new gcm.Sender('AIzaSyC_0lcCf28lgrOxtXoJTIVPEA4ivgXxTFw');

sender.send(message, regIds, function (err, result) {
    if(err) {
      console.error(err);
    } else {
      console.log(result);
    }
});
var rideSchema = mongoose.Schema({

    admin_name:String,
    // ridecode:String,
    date:String,
    time:String,
    millis:Number,
    origin:String,
    destination:String,
    has_booked:Boolean,
    freeSpace:Number,
    // total_seats:Number,
    only_girls:Boolean,
    price:Number,
    transport_mode:String,
    transport_mode_info:String,
    riders:Array,
});

module.exports = mongoose.model('rides', rideSchema);