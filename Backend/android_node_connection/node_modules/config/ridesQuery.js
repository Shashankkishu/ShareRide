var rides = require('config/ridemodel');
var mongoose = require('mongoose');
exports.ridesQuery = function(millis,origin,destination,callback) 
{
	if(origin == "null" && destination == "null"){
	rides.find({"millis":{$gte:millis}}).toArray(function(err, results)
	{
    	console.log(results); // output all records
	});
	callback({'rides':results});
	}
	else if(origin != "null" && destination != "null"){
		rides.find({"origin":origin,"destination":destination}).toArray(function(err, results)
	{
    	console.log(results); // output all records
	});
	callback({'rides':results});
	}
	else if(origin == "null" && destination != "null"){
			rides.find({"millis":{$gte:millis},"destination":destination}).toArray(function(err, results)
		{
	    	console.log(results); // output all records
		});
		callback({'rides':results});
		}
	else if(origin != "null" && destination == "null"){
			rides.find({"millis":{$gte:millis},"origin":origin}).toArray(function(err, results)
		{
	    	console.log(results); // output all records
		});
		callback({'rides':results});
		}
}
