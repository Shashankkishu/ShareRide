var ridesri = require('config/models');
var mongoose = require('mongoose');





exports.addride = function(ridecode,adminemail,starttime,origin,end,availableseats,totalseats,samesex,price,mode,moderiders,riders,callback) {
	 	console.log('has entered into the addride');
	 	if (true) {

//Creates a new ride with all the parameters send by the user .
			var new rides = new rides({
			  	adminemail:adminemail,
				ricecode:ricecode,
				starttime:starttime,
				origin:origin,
				end:end,
				availableseats:availableseats,
				totalseats:totalseats,
				only:samesex,
				price:price,
				mode:mode,
				modeinfo:modeinfo,
				riders:riders 
			   });
//checks id the ride has came from a existing user or not.		 
			rides.find({email: email},function(err,users){
			 
			var len = rides.length;
// checks weather the existing ride .
			if(len == 0){
				console.log('has entered the ride Sucessfully');
			    newuser.save(function (err) {
			 
			    callback({'response':"Ride Sucessfully Registered"});
			 
			});
			}
			else{
			 
			    callback({'response':"Ride already Registered"});
			 
			}});
		}

}